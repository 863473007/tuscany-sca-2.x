Running the otests with Tuscany using Maven
===========================================

To get the OASIS compliance tests from SVN:

svn co https://svn.apache.org/repos/asf/tuscany/java/sca/otest/newlayout/ otests

To run the tests:

cd otest/newlayout
mvn

should build and run all of the Assembly spec otests

mvn -Pscajcaa

should build and run all of the SCA-J CAA spec otests

The file otest\newlayout\tuscany-test-runner\src\test\resources\oasis-sca-tests.properties configures the 
test environment. Currently you can run in either the Java standalone or OSGi runtimes
which is configured by the org.oasis.sca.tests.assembly.runtime_bridge property.

Running the otests with Tuscany using Eclipse
=============================================

For the Assembly tests:

cd otest/newlayout
mvn eclipse:eclipse

import otest/newlayout/tuscany-test-runner into eclipse
import otest/newlayout/sca-assembly/General into eclipse
import otest/newlayout/sca-assembly/General_Java into eclipse

import which ever other contributions you need into eclipse (depends on which tests you are running)
  
For the SCA-J CAA tests:

mvn -Pscajcaa eclipse:eclipse

import otest/newlayout/tuscany-java-caa-test-runner into eclipse
import otest/newlayout/sca-java-caa into eclipse



Structure of the otests
======================

The otest directory, once checked out, contains files from both OASIS and Tuscany svn. As follows

otest/
  newlayout/                      - the latest otests
    tuscany-test-runner           - the tuscany specific code + code copied from sca-assembly/Test_Client
    sca-assembly/                 - the Assembly otest source pulled directly from OASIS svn via svn:externals
    sca-java-caa/                 - the SCA-J CAA otest source pulled directly from OASIS svn via svn:externals
    tuscany-java-caa-test-runner  - the tuscany specific code + code for running the SCA-J CAA tests

The Junit test cases are copied, using an ant script called by maven, from sca-assembly/Test_Client
into tuscany-test-runner so that we can overlay them with Tuscany specific bridges and property
files. In particular the Tuscany version of the test property files can be found at

tuscany-test-runner/src/test/resources/

Maven puts this on the classpath before 

tuscany-test-runner/src/main/resources

Which is where the otest versions get copied to and hence the Tuscany ones get picked up. 
